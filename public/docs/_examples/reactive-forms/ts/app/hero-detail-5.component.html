<h2>Hero Detail</h2>
<form novalidate [formGroup]="heroForm">

    <p>Form Changed: {{ heroForm.dirty }}</p>

    <div class="form-group">
      <label>Name:</label>
      <input class="form-control" formControlName="name">
    </div>
    <!-- #docregion form-array-->
    <div formArrayName="addresses">  <!-- update, changing from formGroupName-->

      <!-- wrap everything in an *ngFor -->
      <div *ngFor="let address of addresses.controls; let i=index" [formGroupName]="i" >
        <h5>Address #{{i + 1}}</h5>
        <div style="margin-left: 20px">
          <div class="form-group">
            <label>Street:</label>
            <input class="form-control" formControlName="street">
          </div>
          <div class="form-group">
            <label>City:</label>
            <input class="form-control" formControlName="city">
          </div>
          <div class="form-group">
            <label>State:</label>
            <select class="form-control" formControlName="state">
              <option *ngFor="let state of states">{{state}}</option>
            </select>
          </div>
          <div class="form-group">
            <label>Zip Code:</label>
            <input class="form-control" formControlName="zip">
          </div>
        </div>
      </div> <!-- end *ngFor div-->

      <button (click)="add()">Add Another Secret Lair</button>
    </div>
    <!-- #enddocregion form-array-->
</form>
